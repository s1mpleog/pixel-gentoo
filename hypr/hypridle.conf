general {
    # Avoid starting multiple lock instances
    lock_cmd = pidof hyprlock || hyprlock

    # Lock the session before suspend (good security practice)
    before_sleep_cmd = loginctl lock-session

    # Make sure displays turn back on properly after wake
    after_sleep_cmd = hyprctl dispatch dpms on
}

# ────────────────────────────────────────────────
# 1. Dim screen (early power saving – feels like macOS / modern Windows)
listener {
    timeout = 180          # 3 minutes
    on-timeout = brightnessctl -s set 10   # remember current & dim to ~10%
    on-resume  = brightnessctl -r          # restore previous brightness
}

# Optional: also turn keyboard backlight off (uncomment if you have one)
# listener {
#     timeout = 180
#     on-timeout = brightnessctl -sd rgb:kbd_backlight set 0
#     on-resume  = brightnessctl -rd rgb:kbd_backlight
# }

# ────────────────────────────────────────────────
# 2. Lock the screen (typical security timeout – ~5–10 min range)
listener {
    timeout = 300          # 5 minutes
    on-timeout = loginctl lock-session     # or: hyprlock directly
}

# ────────────────────────────────────────────────
# 3. Turn displays completely off (very common after lock)
listener {
    timeout = 360          # 6 minutes   (shortly after lock)
    on-timeout = hyprctl dispatch dpms off
    on-resume  = hyprctl dispatch dpms on
}

# ────────────────────────────────────────────────
# 4. Suspend the system (long timeout – many disable on desktop)
listener {
    timeout = 1800         # 30 minutes
    on-timeout = systemctl suspend
    # If you NEVER want auto-suspend (common on desktop), just comment/delete this whole block
}
